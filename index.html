<!DOCTYPE html>

<html lang="en">

<head>

Â  Â  <meta charset="UTF-8">

Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">

Â  Â  <title>3rabiano - AI Tool</title>

Â  Â  <script src="https://cdn.tailwindcss.com"></script>

Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

Â  Â  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

Â  Â  <!-- Monaco Editor CDN -->

Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs/editor/editor.main.css">

Â  Â  <style>

Â  Â  Â  Â  body { font-family: 'Inter', sans-serif; background-color: #131314; color: #e3e3e3; }

Â  Â  Â  Â  .main-container { display: flex; height: 100vh; }

Â  Â  Â  Â  .sidebar { width: 250px; background-color: #1e1f20; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; }

Â  Â  Â  Â  .content-area { flex-grow: 1; padding: 20px 40px; display: flex; flex-direction: column; height: 100vh; overflow-y: auto; }

Â  Â  Â  Â  .chat-input-container { position: sticky; bottom: 0; padding: 20px 0; background-color: #131314; }

Â  Â  Â  Â  .chat-input { background-color: #1e1f20; border: 1px solid #333; border-radius: 50px; padding: 15px 25px; color: #e3e3e3; width: 100%; }

Â  Â  Â  Â  .menu-item { display: flex; align-items: center; padding: 10px; border-radius: 8px; cursor: pointer; transition: background-color 0.2s; }

Â  Â  Â  Â  .menu-item:hover, .menu-item.active { background-color: #282a2b; }

Â  Â  Â  Â  .menu-item i { margin-right: 15px; width: 20px; text-align: center; }

Â  Â  Â  Â  .chat-message { padding: 15px; border-radius: 12px; margin-bottom: 15px; max-width: 80%; display: flex; align-items: flex-start; }

Â  Â  Â  Â  .user-message { background-color: #282a2b; align-self: flex-end; margin-left: auto; }

Â  Â  Â  Â  .ai-message { background-color: #1e1f20; align-self: flex-start; }

Â  Â  Â  Â  .avatar { width: 32px; height: 32px; border-radius: 50%; margin-right: 15px; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0; }

Â  Â  Â  Â  .user-avatar { background-color: #4a4a4a; }

Â  Â  Â  Â  .ai-avatar { background: linear-gradient(135deg, #4285F4 0%, #34A853 100%); }

Â  Â  Â  Â  .chess-board { width: 400px; height: 400px; display: grid; grid-template-columns: repeat(8, 1fr); border: 2px solid #333; }

Â  Â  Â  Â  .chess-square { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; font-size: 36px; }

Â  Â  Â  Â  .chess-square.light { background-color: #f0d9b5; }

Â  Â  Â  Â  .chess-square.dark { background-color: #b58863; }

Â  Â  Â  Â  .chess-piece { cursor: grab; }

Â  Â  Â  Â  .hidden { display: none; }

Â  Â  Â  Â  #voice-mode-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(19, 19, 20, 0.98); z-index: 100; display: flex; flex-direction: column; justify-content: center; align-items: center; }

Â  Â  Â  Â  #exit-voice-mode-btn { position: absolute; top: 30px; right: 30px; font-size: 24px; cursor: pointer; }

Â  Â  Â  Â  #voice-mic-circle { width: 150px; height: 150px; border-radius: 50%; background-color: #4285F4; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: transform 0.2s, background-color 0.2s; }

Â  Â  Â  Â  #voice-mic-circle.listening { background-color: #d9534f; animation: pulse 1.5s infinite; }

Â  Â  Â  Â  #voice-mic-circle:hover { transform: scale(1.05); }

Â  Â  Â  Â  #voice-mode-status-text { margin-top: 30px; font-size: 1.2rem; color: #e3e3e3; text-align: center; max-width: 80%; }

Â  Â  Â  Â  @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(217, 83, 79, 0.7); } 70% { box-shadow: 0 0 0 20px rgba(217, 83, 79, 0); } 100% { box-shadow: 0 0 0 0 rgba(217, 83, 79, 0); } }

Â  Â  Â  Â  select { background-color: #282a2b; color: white; padding: 8px; border-radius: 5px; border: 1px solid #333; }

Â  Â  Â  Â  .code-preview-container { display: flex; gap: 1rem; flex-grow: 1; height: calc(100vh - 250px); }

Â  Â  Â  Â  .code-history, .code-live-preview { flex: 1; overflow-y: auto; background-color: #1e1f20; border-radius: 8px; }

Â  Â  Â  Â  #code-preview-iframe { width: 100%; height: 100%; border: none; border-radius: 8px; background-color: white; }

Â  Â  Â  Â  .code-preview-header { background-color: #282a2b; padding: 8px 12px; border-top-left-radius: 8px; border-top-right-radius: 8px; display: flex; justify-content: space-between; align-items: center; }

Â  Â  Â  Â  .action-btn { background-color: #4a4a4a; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; }

Â  Â  Â  Â  .action-btn:hover { background-color: #5a5a5a; }

Â  Â  Â  Â  #image-gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(256px, 1fr)); gap: 1rem; }

Â  Â  Â  Â  .gallery-item { position: relative; }

Â  Â  Â  Â  .gallery-item img { width: 100%; height: auto; border-radius: 8px; display: block; }

Â  Â  Â  Â  .gallery-item .gallery-item-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); opacity: 0; transition: opacity 0.3s; display: flex; justify-content: center; align-items: center; }

Â  Â  Â  Â  .gallery-item:hover .gallery-item-overlay { opacity: 1; }

Â  Â  Â  Â  .feature-panel { background-color: #1e1f20; padding: 1.5rem; border-radius: 0.5rem; }

Â  Â  Â  Â  .feature-panel-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }

Â  Â  Â  Â  .feature-panel h3 { font-size: 1.25rem; font-weight: 600; margin: 0; }

Â  Â  Â  Â  .feature-panel textarea, .feature-panel input { width: 100%; background-color: #131314; border: 1px solid #333; border-radius: 0.5rem; padding: 0.75rem; color: #e3e3e3; }

Â  Â  Â  Â  .feature-panel textarea { min-height: 100px; }

Â  Â  Â  Â  .feature-panel button { background-color: #4285F4; color: white; font-weight: bold; padding: 0.5rem 1rem; border-radius: 0.5rem; width: 100%; margin-top: 1rem; }

Â  Â  Â  Â  .feature-panel button:hover { background-color: #3367D6; }

Â  Â  Â  Â  .result-box { margin-top: 1.5rem; background-color: #131314; padding: 1rem; border-radius: 0.5rem; min-height: 100px; white-space: pre-wrap; }

Â  Â  Â  Â  .tabs { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1.5rem; border-bottom: 1px solid #333; }

Â  Â  Â  Â  .tab { padding: 0.5rem 1rem; cursor: pointer; border-bottom: 2px solid transparent; }

Â  Â  Â  Â  .tab.active { border-bottom-color: #4285F4; color: #4285F4; }

Â  Â  Â  Â  .typing-indicator span { height: 8px; width: 8px; background-color: #9ca3af; border-radius: 50%; display: inline-block; animation: bounce 1.4s infinite ease-in-out both; }

Â  Â  Â  Â  .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }

Â  Â  Â  Â  .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }

Â  Â  Â  Â  @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1.0); } }

Â  Â  Â  Â Â 

Â  Â  Â  Â  /* Zones Styling */

Â  Â  Â  Â  .zone-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; }

Â  Â  Â  Â  .zone-card { background-color: #1e1f20; border-radius: 0.5rem; padding: 1.5rem; text-align: center; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }

Â  Â  Â  Â  .zone-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }

Â  Â  Â  Â  .zone-card i { font-size: 2.5rem; margin-bottom: 1rem; }

Â  Â  Â  Â  .zone-card h3 { font-size: 1.5rem; font-weight: 600; margin-bottom: 0.5rem; }

Â  Â  Â  Â  .zone-card p { color: #a0aec0; }

Â  Â  Â  Â  .zone-detail-header { display: flex; align-items: center; margin-bottom: 1.5rem; }

Â  Â  Â  Â  .back-to-zones-btn { background: none; border: none; color: #a0aec0; font-size: 1.5rem; cursor: pointer; margin-right: 1rem; }

Â  Â  Â  Â  .back-to-zones-btn:hover { color: #fff; }



Â  Â  Â  Â  /* Islamic Mode Styling */

Â  Â  Â  Â  #islamic-feature[dir="rtl"] .menu-item i { margin-left: 15px; margin-right: 0; }

Â  Â  Â  Â  .islamic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }

Â  Â  Â  Â  .islamic-feature-card { background-color: #1e1f20; border-radius: 0.5rem; padding: 1.5rem; }

Â  Â  Â  Â  .prayer-time { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #333; }

Â  Â  Â  Â  .prayer-time:last-child { border-bottom: none; }

Â  Â  Â  Â  #qibla-compass { width: 150px; height: 150px; background-color: #131314; border-radius: 50%; border: 2px solid #333; position: relative; margin: 1rem auto; }

Â  Â  Â  Â  #qibla-arrow { width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 60px solid #2ECC71; position: absolute; top: 15px; left: 50%; transform-origin: 50% 60px; transform: translateX(-50%) rotate(135deg); /* Approximate for Damanhour, Egypt */ }

Â  Â  Â  Â  .compass-point { position: absolute; font-weight: bold; color: #a0aec0;}

Â  Â  Â  Â  .north { top: 5px; left: 50%; transform: translateX(-50%); }

Â  Â  Â  Â  .south { bottom: 5px; left: 50%; transform: translateX(-50%); }

Â  Â  Â  Â  .east { top: 50%; right: 5px; transform: translateY(-50%); }

Â  Â  Â  Â  .west { top: 50%; left: 5px; transform: translateY(-50%); }

Â  Â  Â  Â Â 

Â  Â  Â  Â  /* AI Workplace Styling */

Â  Â  Â  Â  #workplace-container { display: flex; flex-grow: 1; gap: 1rem; }

Â  Â  Â  Â  #workplace-editor-container { flex: 1; display: flex; flex-direction: column; }

Â  Â  Â  Â  #workplace-preview-container { flex: 1; display: flex; flex-direction: column; }

Â  Â  Â  Â  #workplace-editor { flex-grow: 1; border-radius: 8px; overflow: hidden; }

Â  Â  Â  Â  #workplace-preview { width: 100%; flex-grow: 1; border: none; border-radius: 8px; background-color: white; }

Â  Â  Â  Â  .workplace-header { background-color: #282a2b; padding: 8px 12px; border-top-left-radius: 8px; border-top-right-radius: 8px; display: flex; justify-content: space-between; align-items: center; }
/* --- Add this code to the bottom of your <style> block --- */

@media (max-width: 768px) {
    /* Main Layout Stacking */
    .main-container {
        flex-direction: column;
        height: auto; /* Allow the container to grow with content */
    }

    .sidebar {
        width: 100%;
        height: auto;
        flex-direction: column; /* Stack sidebar items vertically again */
        padding-bottom: 20px;
    }

    .sidebar h1 {
        text-align: center;
        margin-bottom: 1rem;
    }
    
    /* Make the navigation wrap nicely */
    .sidebar nav {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: center;
    }
    
    .menu-item {
        flex-grow: 1; /* Allow items to grow and fill space */
        flex-basis: 120px; /* Give items a base width */
        justify-content: center;
    }
    
    .menu-item i {
        margin-right: 8px; /* Keep a small margin for the icon */
    }

    .content-area {
        height: auto;
        overflow-y: visible; /* Let the entire page scroll */
        padding: 20px 15px;
    }
    
    .chat-input-container {
        padding: 10px 15px;
        margin: 0 -15px; /* Make the input stretch to the screen edges */
    }

    .chat-message {
        max-width: 90%; /* Allow messages to use more width */
    }

    /* Adjust specific feature layouts */
    .zone-grid, .islamic-grid {
        /* Force cards into a single column on mobile */
        grid-template-columns: 1fr;
    }
    
    .islamic-feature-card {
        /* Ensure all cards are spanned to full width */
        grid-column: 1 / -1 !important;
    }

    .code-preview-container,
    #workplace-container {
        flex-direction: column;
        height: auto; /* Remove fixed height */
    }

    .code-preview-container > div,
    #workplace-container > div {
        min-height: 400px; /* Give editor/preview a decent height */
    }

    .chess-board {
        width: 90vw; /* Use viewport width for the board */
        height: 90vw; /* Keep it square */
    }
    
    /* Adjust text sizes for readability */
    h2 {
        font-size: 1.75rem;
    }
    
    .zone-card h3, .feature-panel h3 {
        font-size: 1.15rem;
    }
}
Â  Â  </style>

</head>

<body>

Â  Â  <!-- Full Screen Voice Mode -->

Â  Â  <div id="voice-mode-overlay" style="display: none;">

Â  Â  Â  Â  <i id="exit-voice-mode-btn" class="fas fa-times"></i>

Â  Â  Â  Â  <div id="voice-mic-circle"><i class="fas fa-microphone-alt text-white text-5xl"></i></div>

Â  Â  Â  Â  <p id="voice-mode-status-text">Tap the circle to speak</p>

Â  Â  </div>



Â  Â  <div class="main-container">

Â  Â  Â  Â  <!-- Sidebar -->

Â  Â  Â  Â  <div class="sidebar">

Â  Â  Â  Â  Â  Â  <div>

Â  Â  Â  Â  Â  Â  Â  Â  <h1 class="text-2xl font-bold mb-8 text-white">3rabiano AI</h1>

Â  Â  Â  Â  Â  Â  Â  Â  <nav>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item active" data-feature="chat"><i class="fas fa-comments"></i><span>Ask Questions</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" data-feature="islamic"><i class="fas fa-mosque"></i><span>Islamic Mode</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" data-feature="zones"><i class="fas fa-th-large"></i><span>Zones</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" data-feature="generations"><i class="fas fa-magic"></i><span>Generations</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" data-feature="code"><i class="fas fa-code"></i><span>Code</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" data-feature="chess"><i class="fas fa-chess"></i><span>Play Chess</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" data-feature="educational"><i class="fas fa-user-graduate"></i><span>Educational</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" data-feature="research"><i class="fas fa-search"></i><span>Research</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="menu-item" data-feature="links"><i class="fas fa-link"></i><span>Check Links</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  </nav>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div><div class="menu-item"><i class="fas fa-cog"></i><span>Settings</span></div></div>

Â  Â  Â  Â  </div>



Â  Â  Â  Â  <!-- Main Content -->

Â  Â  Â  Â  <div class="content-area">

Â  Â  Â  Â  Â  Â  <!-- Chat Feature -->

Â  Â  Â  Â  Â  Â  <div id="chat-feature" class="feature-content">

Â  Â  Â  Â  Â  Â  Â  Â  <div id="chat-history" class="flex-grow mb-4">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- Messages will be appended here -->

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="chat-input-container">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="relative">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="chat-input" class="chat-input pr-24" placeholder="Ask me anything...">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="send-btn" class="absolute right-5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white"><i class="fas fa-paper-plane"></i></button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="voice-mode-btn" class="absolute right-14 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white"><i class="fas fa-headphones-alt"></i></button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  <!-- ISLAMIC MODE FEATURE -->

Â  Â  Â  Â  Â  Â  <div id="islamic-feature" class="feature-content hidden" dir="rtl">

Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold mb-2">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-lg text-gray-400 mb-8" id="hijri-date-display">Ù¢Ù© Ù…Ø­Ø±Ù…ØŒ Ù¡Ù¤Ù¤Ù§ Ù‡Ù€</p>



Â  Â  Â  Â  Â  Â  Â  Â  <div class="islamic-grid">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- Prayer Times -->

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="islamic-feature-card col-span-1 md:col-span-2">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="flex items-center"><i class="fas fa-clock ml-3"></i>Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-gray-500 mb-4">Ù„Ù…Ø¯ÙŠÙ†Ø© Ø¯Ù…Ù†Ù‡ÙˆØ±ØŒ Ù…ØµØ± Ø¨ØªØ§Ø±ÙŠØ® Ù¢Ù¥ ÙŠÙˆÙ„ÙŠÙˆ Ù¢Ù Ù¢Ù¥</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="prayer-times-list">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="prayer-time"><span>Ø§Ù„ÙØ¬Ø±</span><span>Ù¤:Ù Ù¨ Øµ</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="prayer-time"><span>Ø§Ù„Ø¸Ù‡Ø±</span><span>Ù¡Ù¢:Ù¥Ù© Ù…</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="prayer-time"><span>Ø§Ù„Ø¹ØµØ±</span><span>Ù¤:Ù£Ù§ Ù…</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="prayer-time"><span>Ø§Ù„Ù…ØºØ±Ø¨</span><span>Ù§:Ù¥Ù¥ Ù…</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="prayer-time"><span>Ø§Ù„Ø¹Ø´Ø§Ø¡</span><span>Ù©:Ù¢Ù£ Ù…</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- Qibla Direction -->

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="islamic-feature-card text-center">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="flex items-center justify-center"><i class="fas fa-kaaba ml-3"></i>Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="qibla-compass">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="compass-point north">Ø´</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="compass-point south">Ø¬</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="compass-point east">Ù‚</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="compass-point west">Øº</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="qibla-arrow"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-gray-500">Ø§ØªØ¬Ø§Ù‡ ØªÙ‚Ø±ÙŠØ¨ÙŠ Ù„Ù…Ø¯ÙŠÙ†Ø© Ø¯Ù…Ù†Ù‡ÙˆØ±ØŒ Ù…ØµØ±. Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§ØªØ¬Ø§Ù‡ Ø¯Ù‚ÙŠÙ‚ØŒ Ø§Ø³ØªØ®Ø¯Ù… ØªØ·Ø¨ÙŠÙ‚Ù‹Ø§ Ù…Ø®ØµØµÙ‹Ø§.</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- Verse of the Day -->

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="islamic-feature-card">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="flex items-center"><i class="fas fa-quran ml-3"></i>Ø¢ÙŠØ© Ø§Ù„ÙŠÙˆÙ…</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn download-btn" data-target="verse-of-the-day" data-filename="verse.txt"><i class="fas fa-download"></i></button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="verse-of-the-day" class="result-box text-lg italic">"ÙÙØ§Ø°Ù’ÙƒÙØ±ÙÙˆÙ†ÙÙŠ Ø£ÙØ°Ù’ÙƒÙØ±Ù’ÙƒÙÙ…Ù’ ÙˆÙØ§Ø´Ù’ÙƒÙØ±ÙÙˆØ§ Ù„ÙÙŠ ÙˆÙÙ„ÙØ§ ØªÙÙƒÙ’ÙÙØ±ÙÙˆÙ†Ù"<br><span class="text-sm not-italic text-gray-400">- Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©ØŒ Ø¢ÙŠØ© Ù¡Ù¥Ù¢</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="new-verse-btn" class="mt-4 w-full">Ø¢ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- Hadith of the Day -->

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="islamic-feature-card">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="flex items-center"><i class="fas fa-book-open ml-3"></i>Ø­Ø¯ÙŠØ« Ø§Ù„ÙŠÙˆÙ…</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn download-btn" data-target="hadith-of-the-day" data-filename="hadith.txt"><i class="fas fa-download"></i></button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="hadith-of-the-day" class="result-box italic">"Ø®ÙŠØ±ÙƒÙ… Ø®ÙŠØ±ÙƒÙ… Ù„Ø£Ù‡Ù„Ù‡."<br><span class="text-sm not-italic text-gray-400">- Ø§Ù„ØªØ±Ù…Ø°ÙŠ</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="new-hadith-btn" class="mt-4 w-full">Ø­Ø¯ÙŠØ« Ø¬Ø¯ÙŠØ¯</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- Islamic Q&A -->

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="islamic-feature-card col-span-1 md:col-span-3">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="feature-panel-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="flex items-center"><i class="fas fa-question-circle ml-3"></i>Ø³Ø¤Ø§Ù„ ÙˆØ¬ÙˆØ§Ø¨ Ø¥Ø³Ù„Ø§Ù…ÙŠ</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn download-btn hidden" data-target="islamic-qa-result" data-filename="islamic-qa.txt"><i class="fas fa-download"></i></button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <textarea id="islamic-qa-prompt" placeholder="Ø§Ø³Ø£Ù„ Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¹Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…..."></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button id="islamic-qa-btn" class="zone-generate-btn" data-prompt-id="islamic-qa-prompt" data-result-id="islamic-qa-result">Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø©</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="islamic-qa-result" class="result-box"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  <!-- ZONES FEATURE -->

Â  Â  Â  Â  Â  Â  <div id="zones-feature" class="feature-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  <!-- Zone Selection Grid -->

Â  Â  Â  Â  Â  Â  Â  Â  <div id="zone-selection">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold mb-6">Welcome to the Zones</h2>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-lg text-gray-400 mb-8">Select a zone to get started.</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="zone-grid">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="zone-card" data-zone="study">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-brain text-blue-400"></i>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Study Zone</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>A space for learning, focus, and education.</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="zone-card" data-zone="work">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-briefcase text-green-400"></i>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Work Zone</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>A productivity space for professionals.</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="zone-card" data-zone="kitchen">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-utensils text-orange-400"></i>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Kitchen Zone</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Home, recipes, and cooking help.</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="zone-card" data-zone="fun">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-gamepad text-purple-400"></i>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Fun Zone</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>A relaxing and creative space for entertainment.</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="zone-card" data-zone="mind">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-spa text-teal-400"></i>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Mind Zone</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>For mental health, meditation, and self-care.</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="zone-card" data-zone="developer">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-laptop-code text-red-400"></i>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Developer Zone</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>For coders and technical users.</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <!-- Individual Zone Details -->

Â  Â  Â  Â  Â  Â  Â  Â  <div id="study-zone-detail" class="zone-detail hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="zone-detail-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="back-to-zones-btn"><i class="fas fa-arrow-left"></i></button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold">ğŸ§  Study Zone</h2>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-6">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>AI Tutor</h3><button class="action-btn download-btn hidden" data-target="ai-tutor-result" data-filename="ai-tutor.txt"><i class="fas fa-download"></i></button></div><textarea id="ai-tutor-prompt" placeholder="Ask anything in math, science, languages..."></textarea><button data-prompt-id="ai-tutor-prompt" data-result-id="ai-tutor-result" class="zone-generate-btn">Get Answer</button><div id="ai-tutor-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Notes & Flashcards Generator</h3><button class="action-btn download-btn hidden" data-target="notes-flashcards-result" data-filename="notes.txt"><i class="fas fa-download"></i></button></div><textarea id="notes-flashcards-prompt" placeholder="Paste your text here to generate notes and flashcards..."></textarea><button data-prompt-id="notes-flashcards-prompt" data-result-id="notes-flashcards-result" class="zone-generate-btn">Generate</button><div id="notes-flashcards-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Quiz Maker</h3><button class="action-btn download-btn hidden" data-target="quiz-maker-result" data-filename="quiz.txt"><i class="fas fa-download"></i></button></div><textarea id="quiz-maker-prompt" placeholder="Enter a topic or paste text to create a quiz..."></textarea><button data-prompt-id="quiz-maker-prompt" data-result-id="quiz-maker-result" class="zone-generate-btn">Create Quiz</button><div id="quiz-maker-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>PDF Summarizer</h3><button class="action-btn download-btn hidden" data-target="pdf-summarizer-result" data-filename="summary.txt"><i class="fas fa-download"></i></button></div><input type="file" id="pdf-upload" accept=".pdf" class="mb-4"><textarea id="pdf-summarizer-prompt" placeholder="Or paste text from a document here..."></textarea><button data-prompt-id="pdf-summarizer-prompt" data-result-id="pdf-summarizer-result" class="zone-generate-btn">Summarize</button><div id="pdf-summarizer-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <div id="work-zone-detail" class="zone-detail hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="zone-detail-header"><button class="back-to-zones-btn"><i class="fas fa-arrow-left"></i></button><h2 class="text-3xl font-bold">ğŸ’¼ Work Zone</h2></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="space-y-6">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>AI Resume & Cover Letter Writer</h3><button class="action-btn download-btn hidden" data-target="resume-result" data-filename="resume.txt"><i class="fas fa-download"></i></button></div><textarea id="resume-prompt" placeholder="Paste your job description and key skills..."></textarea><button data-prompt-id="resume-prompt" data-result-id="resume-result" class="zone-generate-btn">Generate</button><div id="resume-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Email Generator</h3><button class="action-btn download-btn hidden" data-target="email-result" data-filename="email.txt"><i class="fas fa-download"></i></button></div><textarea id="email-prompt" placeholder="Describe the email you need (e.g., a follow-up email to a client about a project)..."></textarea><button data-prompt-id="email-prompt" data-result-id="email-result" class="zone-generate-btn">Generate Email</button><div id="email-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Business Idea Generator</h3><button class="action-btn download-btn hidden" data-target="business-idea-result" data-filename="ideas.txt"><i class="fas fa-download"></i></button></div><textarea id="business-idea-prompt" placeholder="Enter your interests or an industry..."></textarea><button data-prompt-id="business-idea-prompt" data-result-id="business-idea-result" class="zone-generate-btn">Get Ideas</button><div id="business-idea-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  <div id="kitchen-zone-detail" class="zone-detail hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="zone-detail-header"><button class="back-to-zones-btn"><i class="fas fa-arrow-left"></i></button><h2 class="text-3xl font-bold">ğŸ³ Kitchen Zone</h2></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="space-y-6">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Recipe Generator</h3><button class="action-btn download-btn hidden" data-target="recipe-result" data-filename="recipes.txt"><i class="fas fa-download"></i></button></div><textarea id="recipe-prompt" placeholder="List the ingredients you have..."></textarea><button data-prompt-id="recipe-prompt" data-result-id="recipe-result" class="zone-generate-btn">Find Recipes</button><div id="recipe-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Meal Planner</h3><button class="action-btn download-btn hidden" data-target="meal-plan-result" data-filename="meal-plan.txt"><i class="fas fa-download"></i></button></div><textarea id="meal-plan-prompt" placeholder="Describe your dietary needs and for how many days (e.g., 5-day low-carb plan)..."></textarea><button data-prompt-id="meal-plan-prompt" data-result-id="meal-plan-result" class="zone-generate-btn">Create Plan</button><div id="meal-plan-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>"Ask the Chef" AI Chat</h3><button class="action-btn download-btn hidden" data-target="chef-chat-result" data-filename="chef-qa.txt"><i class="fas fa-download"></i></button></div><textarea id="chef-chat-prompt" placeholder="Ask a cooking question (e.g., how to perfectly sear a steak?)..."></textarea><button data-prompt-id="chef-chat-prompt" data-result-id="chef-chat-result" class="zone-generate-btn">Ask</button><div id="chef-chat-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <div id="fun-zone-detail" class="zone-detail hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="zone-detail-header"><button class="back-to-zones-btn"><i class="fas fa-arrow-left"></i></button><h2 class="text-3xl font-bold">ğŸ® Fun Zone</h2></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="space-y-6">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>AI Joke / Meme Generator</h3><button class="action-btn download-btn hidden" data-target="joke-result" data-filename="joke.txt"><i class="fas fa-download"></i></button></div><textarea id="joke-prompt" placeholder="Enter a topic for a joke (e.g., computers, cats)..."></textarea><button data-prompt-id="joke-prompt" data-result-id="joke-result" class="zone-generate-btn">Tell me a Joke</button><div id="joke-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Story & Comic Maker</h3><button class="action-btn download-btn hidden" data-target="story-result" data-filename="story.txt"><i class="fas fa-download"></i></button></div><textarea id="story-prompt" placeholder="Start a story or describe a comic scene..."></textarea><button data-prompt-id="story-prompt" data-result-id="story-result" class="zone-generate-btn">Generate</button><div id="story-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Avatar / Cartoon Creator</h3><button class="action-btn download-btn hidden" data-target="avatar-result" data-filename="avatar.svg"><i class="fas fa-download"></i></button></div><textarea id="avatar-prompt" placeholder="Describe the character you want to create..."></textarea><button data-prompt-id="avatar-prompt" data-result-id="avatar-result" class="zone-generate-btn">Create Avatar (SVG)</button><div id="avatar-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <div id="mind-zone-detail" class="zone-detail hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="zone-detail-header"><button class="back-to-zones-btn"><i class="fas fa-arrow-left"></i></button><h2 class="text-3xl font-bold">ğŸ§˜ Mind Zone</h2></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="space-y-6">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>AI Therapist (Chatbot)</h3><button class="action-btn download-btn hidden" data-target="therapist-result" data-filename="therapist-chat.txt"><i class="fas fa-download"></i></button></div><textarea id="therapist-prompt" placeholder="How are you feeling today? You can talk about anything on your mind."></textarea><button data-prompt-id="therapist-prompt" data-result-id="therapist-result" class="zone-generate-btn">Chat</button><div id="therapist-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Daily Journal Generator</h3><button class="action-btn download-btn hidden" data-target="journal-result" data-filename="journal.txt"><i class="fas fa-download"></i></button></div><textarea id="journal-prompt" placeholder="What was the highlight of your day? Or, enter a topic you'd like to reflect on."></textarea><button data-prompt-id="journal-prompt" data-result-id="journal-result" class="zone-generate-btn">Generate Entry</button><div id="journal-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel"><div class="feature-panel-header"><h3>Gratitude Prompts</h3><button class="action-btn download-btn hidden" data-target="gratitude-result" data-filename="gratitude-prompt.txt"><i class="fas fa-download"></i></button></div><button id="gratitude-btn" class="zone-generate-btn" data-result-id="gratitude-result">Get a Prompt</button><div id="gratitude-result" class="result-box"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  <div id="developer-zone-detail" class="zone-detail hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- This zone reuses the existing Code feature for a more integrated experience -->

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="zone-detail-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="back-to-zones-btn"><i class="fas fa-arrow-left"></i></button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold">ğŸ‘¨â€ğŸ’» Developer Zone</h2>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="mb-4 text-gray-400">The Developer Zone uses the advanced tools from our main 'Code' section. You'll find the AI coding assistant, live editor, and more there.</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="go-to-code-feature" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg">Go to Code Tools</button>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  <!-- Generations Feature -->

Â  Â  Â  Â  Â  Â  <div id="generations-feature" class="feature-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold mb-6">Generations</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="tabs generation-tabs">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="tab generation-tab active" data-gen-tab="photo">Photo</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="tab generation-tab" data-gen-tab="text">Text</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="tab generation-tab" data-gen-tab="ideas">Ideas</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="tab generation-tab" data-gen-tab="video">Video</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="tab generation-tab" data-gen-tab="voice">Voice</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="tab generation-tab" data-gen-tab="qrcode">QR Code</div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <div id="photo-gen-tab" class="gen-tab-content">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-[#1e1f20] p-6 rounded-lg">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="image-prompt" class="w-full bg-[#131314] border border-gray-600 rounded-lg p-3 mb-4" placeholder="Describe the image you want to create...">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="generate-image-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full">Generate Image</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="image-loading" class="text-center my-4 hidden"><div class="typing-indicator"><span></span><span></span><span></span></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="image-gallery" class="mt-6"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <div id="text-gen-tab" class="gen-tab-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Text Generation</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn download-btn hidden" data-target="text-gen-result" data-filename="generated-text.txt"><i class="fas fa-download"></i></button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="text-type-select" class="w-full bg-[#131314] border border-gray-600 rounded-lg p-3 mb-4">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="email">Email</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="letter">Letter</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="poem">Poem</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="article">Article</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="social media post">Social Media Post</option>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="text-gen-prompt" placeholder="Describe what the text should be about..."></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="generate-text-btn" class="zone-generate-btn" data-prompt-id="text-gen-prompt" data-result-id="text-gen-result">Generate Text</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="text-gen-result" class="result-box"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <div id="ideas-gen-tab" class="gen-tab-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Idea Generation</h3>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn download-btn hidden" data-target="ideas-gen-result" data-filename="ideas.txt"><i class="fas fa-download"></i></button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="ideas-gen-prompt" placeholder="Enter a topic to brainstorm ideas for..."></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="generate-ideas-btn" class="zone-generate-btn" data-prompt-id="ideas-gen-prompt" data-result-id="ideas-gen-result">Generate Ideas</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="ideas-gen-result" class="result-box"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <div id="video-gen-tab" class="gen-tab-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="bg-[#1e1f20] p-6 rounded-lg">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <p class="text-center text-gray-400">Video generation is coming soon!</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <div id="voice-gen-tab" class="gen-tab-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="bg-[#1e1f20] p-6 rounded-lg">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <textarea id="voice-text-prompt" class="w-full bg-[#131314] border border-gray-600 rounded-lg p-3 mb-4" placeholder="Enter text to convert to speech..."></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button id="generate-voice-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full">Generate Voice</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="voice-output" class="mt-6"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  Â  Â  <div id="qrcode-gen-tab" class="gen-tab-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="bg-[#1e1f20] p-6 rounded-lg">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <input type="text" id="qrcode-prompt" class="w-full bg-[#131314] border border-gray-600 rounded-lg p-3 mb-4" placeholder="Enter text or URL for QR code...">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button id="generate-qrcode-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full">Generate QR Code</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="qrcode-output" class="mt-6 p-4 bg-white rounded-lg flex justify-center items-center"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button id="download-qrcode-btn" class="mt-4 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg w-full hidden">Download QR Code</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>



Â  Â  Â  Â  Â  Â  <!-- Code Feature -->

Â  Â  Â  Â  Â  Â  <div id="code-feature" class="feature-content hidden flex flex-col">

Â  Â  Â  Â  Â  Â  Â  Â  Â <h2 class="text-3xl font-bold mb-6">Code Tools</h2>

Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="tabs code-tabs">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="tab code-tab active" data-code-tab="write">Write Code</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="tab code-tab" data-code-tab="workplace">AI Workplace</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="tab code-tab" data-code-tab="explainer">Code Explainer</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="tab code-tab" data-code-tab="expert">Chat with Expert</div>

Â  Â  Â  Â  Â  Â  Â  Â  Â </div>



Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="write-code-tab" class="code-tab-content flex flex-col flex-grow">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="code-preview-container">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="code-history" class="code-history p-4"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="code-live-preview">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="code-preview-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Live Preview</span>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn" id="download-code-btn"><i class="fas fa-download"></i> Download</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <iframe id="code-preview-iframe"></iframe>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="chat-input-container"><input type="text" id="code-input" class="chat-input" placeholder="Describe the code you need (e.g., a blue button with rounded corners)..."></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â </div>



Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="workplace-code-tab" class="code-tab-content hidden flex-grow flex flex-col">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="workplace-container">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="workplace-editor-container">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="workplace-header">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Code Editor</span>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="workplace-help-btn" class="action-btn"><i class="fas fa-magic"></i> Ask AI for Help</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="workplace-editor"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="workplace-preview-container">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="workplace-header"><span>Live Preview</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <iframe id="workplace-preview"></iframe>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="workplace-result" class="result-box hidden"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â </div>



Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="explainer-code-tab" class="code-tab-content hidden flex-grow flex flex-col">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="feature-panel flex-grow flex flex-col">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="feature-panel-header"><h3>AI Code Explainer</h3><button class="action-btn download-btn hidden" data-target="explainer-output" data-filename="code-explanation.txt"><i class="fas fa-download"></i></button></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <textarea id="explainer-input" class="flex-grow font-mono" placeholder="Paste your code here..."></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button id="explain-code-btn">Explain Code</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="explainer-output" class="result-box"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â </div>



Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="expert-code-tab" class="code-tab-content hidden flex-grow flex flex-col">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="feature-panel flex-grow flex flex-col">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="feature-panel-header"><h3>Chat with Code Expert</h3><button class="action-btn download-btn" data-target="expert-chat-history" data-filename="expert-chat.html"><i class="fas fa-download"></i></button></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div id="expert-chat-history" class="result-box h-64 overflow-y-auto"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="flex gap-2 mt-4">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <input type="text" id="expert-chat-input" class="flex-grow" placeholder="Ask a coding question...">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button id="expert-chat-send-btn" class="w-auto">Send</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- Chess Game Feature -->

Â  Â  Â  Â  Â  Â  <div id="chess-feature" class="feature-content hidden flex flex-col items-center justify-center">

Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold mb-6">Play Chess</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center mb-4">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="chess-difficulty" class="mr-4">AI Level:</label>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="chess-difficulty"><option value="1">Easy</option><option value="2">Medium</option><option value="3">Hard</option></select>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="chess-board" class="chess-board"></div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="chess-status" class="mt-4 text-lg">Select difficulty to start</div>

Â  Â  Â  Â  Â  Â  Â  Â  <button id="reset-chess-btn" class="mt-4 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg">New Game</button>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- Educational Feature -->

Â  Â  Â  Â  Â  Â  <div id="educational-feature" class="feature-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold mb-6">Educational Tools</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-6">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header"><h3>Educational Chat</h3><button class="action-btn download-btn" data-target="educational-chat-history" data-filename="educational-chat.html"><i class="fas fa-download"></i></button></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="educational-chat-history" class="result-box h-64 overflow-y-auto"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex gap-2 mt-4">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="educational-chat-input" class="flex-grow" placeholder="Ask a question...">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="educational-chat-send-btn" class="w-auto">Send</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header"><h3>School Projects</h3><button class="action-btn download-btn hidden" data-target="project-result" data-filename="project-ideas.txt"><i class="fas fa-download"></i></button></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="project-prompt" placeholder="e.g., a project about the solar system"></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="generate-project-btn">Get Project Ideas</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="project-result" class="result-box"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header"><h3>Math Problem Solver</h3><button class="action-btn download-btn hidden" data-target="math-result" data-filename="math-solution.txt"><i class="fas fa-download"></i></button></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="math-prompt" placeholder="e.g., 2x + 5 = 15, what is x?"></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="solve-math-btn">Solve Problem</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="math-result" class="result-box"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- Research Feature -->

Â  Â  Â  Â  Â  Â  <div id="research-feature" class="feature-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold mb-6">Research Assistant</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header"><h3>Search & Summarize</h3><button class="action-btn download-btn hidden" data-target="research-result" data-filename="research.txt"><i class="fas fa-download"></i></button></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="research-prompt" placeholder="Enter a topic to research..."></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="research-btn">Start Research</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="research-result" class="result-box"></div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- Check Links Feature -->

Â  Â  Â  Â  Â  Â  <div id="links-feature" class="feature-content hidden">

Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold mb-6">Link Security Checker</h2>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="feature-panel-header"><h3>Check a URL</h3><button class="action-btn download-btn hidden" data-target="link-result" data-filename="link-analysis.txt"><i class="fas fa-download"></i></button></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="link-prompt" placeholder="Enter a URL to check...">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="check-link-btn">Check Link</button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="link-result" class="result-box"></div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â Â 

Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs/loader.min.js"></script>

Â  Â  <script>

Â  Â  document.addEventListener('DOMContentLoaded', () => {

Â  Â  Â  Â  // --- API Keys ---

Â  Â  Â  Â  const GEMINI_API_KEY = "AIzaSyDwlrMesUe4s4LjJJ4HiPqHOzOhkuCkdew";

Â  Â  Â  Â  const DEEPSEEK_API_KEY = "sk-dc8b5aec2b1f410ca98d740b407290a1";

Â  Â  Â  Â  const GROK_API_KEY = "xai-sJOKW26kilflD2ToDhNrXD47yzkqjteqD4x1Z53muxZOJrA0VJNyfbt7PV4SCeEhUUyhWk2sTYepsONr"; // Updated as requested

Â  Â  Â  Â  const ELEVENLABS_API_KEY = "sk_1d42cb84bd2c91e33d337f792f75513f994c980fd0751454";

Â  Â  Â  Â  const ELEVENLABS_AGENT_ID = "agent_4301k0vq9xmpfffb11tqphxw7bmp";



Â  Â  Â  Â  // --- Global State & UI Elements ---

Â  Â  Â  Â  let voiceModeState = 'idle';

Â  Â  Â  Â  const voiceModeBtn = document.getElementById('voice-mode-btn'), voiceModeOverlay = document.getElementById('voice-mode-overlay'), exitVoiceModeBtn = document.getElementById('exit-voice-mode-btn'), voiceMicCircle = document.getElementById('voice-mic-circle'), voiceModeStatusText = document.getElementById('voice-mode-status-text');

Â  Â  Â  Â  const menuItems = document.querySelectorAll('.menu-item'), featureContents = document.querySelectorAll('.feature-content');

Â  Â  Â  Â  let workplaceEditorInstance = null;

Â  Â  Â  Â  let isVoiceChatActive = false;



Â  Â  Â  Â  // --- Feature Switching ---

Â  Â  Â  Â  menuItems.forEach(item => {

Â  Â  Â  Â  Â  Â  item.addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  Â  Â  const feature = item.getAttribute('data-feature');

Â  Â  Â  Â  Â  Â  Â  Â  if (!feature) return;

Â  Â  Â  Â  Â  Â  Â  Â  menuItems.forEach(i => i.classList.remove('active'));

Â  Â  Â  Â  Â  Â  Â  Â  item.classList.add('active');

Â  Â  Â  Â  Â  Â  Â  Â  featureContents.forEach(content => content.classList.add('hidden'));

Â  Â  Â  Â  Â  Â  Â  Â  const contentToShow = document.getElementById(`${feature}-feature`);

Â  Â  Â  Â  Â  Â  Â  Â  if (contentToShow) contentToShow.classList.remove('hidden');



Â  Â  Â  Â  Â  Â  Â  Â  // Initialize Monaco Editor when the Code tab is clicked

Â  Â  Â  Â  Â  Â  Â  Â  if (feature === 'code' && !workplaceEditorInstance) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  initializeMonacoEditor();

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  });



Â  Â  Â  Â  // --- Tab Switching (Generations & Code) ---

Â  Â  Â  Â  function setupTabSwitching(tabSelector, contentSelector) {

Â  Â  Â  Â  Â  Â  const tabs = document.querySelectorAll(tabSelector);

Â  Â  Â  Â  Â  Â  const tabContents = document.querySelectorAll(contentSelector);

Â  Â  Â  Â  Â  Â  const baseId = contentSelector.split('-')[0].substring(1);

Â  Â  Â  Â  Â  Â  tabs.forEach(tab => {

Â  Â  Â  Â  Â  Â  Â  Â  tab.addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tabs.forEach(t => t.classList.remove('active'));

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tab.classList.add('active');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const tabName = tab.getAttribute(`data-${baseId}-tab`);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tabContents.forEach(content => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const expectedId = `${tabName}-${baseId === 'gen' ? 'gen-tab' : 'code-tab'}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (content.id === expectedId) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  content.classList.remove('hidden');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  content.classList.add('hidden');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  }

Â  Â  Â  Â  setupTabSwitching('.generation-tab', '.gen-tab-content');

Â  Â  Â  Â  setupTabSwitching('.code-tab', '.code-tab-content');



Â  Â  Â  Â  // --- ZONES LOGIC ---

Â  Â  Â  Â  const zoneSelection = document.getElementById('zone-selection');

Â  Â  Â  Â  const zoneDetails = document.querySelectorAll('.zone-detail');

Â  Â  Â  Â  const zoneCards = document.querySelectorAll('.zone-card');

Â  Â  Â  Â  const backToZonesBtns = document.querySelectorAll('.back-to-zones-btn');



Â  Â  Â  Â  zoneCards.forEach(card => {

Â  Â  Â  Â  Â  Â  card.addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  Â  Â  const zoneName = card.dataset.zone;

Â  Â  Â  Â  Â  Â  Â  Â  zoneSelection.classList.add('hidden');

Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById(`${zoneName}-zone-detail`).classList.remove('hidden');

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  });



Â  Â  Â  Â  backToZonesBtns.forEach(btn => {

Â  Â  Â  Â  Â  Â  btn.addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  Â  Â  zoneDetails.forEach(detail => detail.classList.add('hidden'));

Â  Â  Â  Â  Â  Â  Â  Â  zoneSelection.classList.remove('hidden');

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  });

Â  Â  Â  Â Â 

Â  Â  Â  Â  document.getElementById('go-to-code-feature').addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  // Simulate a click on the 'Code' menu item

Â  Â  Â  Â  Â  Â  document.querySelector('.menu-item[data-feature="code"]').click();

Â  Â  Â  Â  });

Â  Â  Â  Â Â 

Â  Â  Â  Â  // Generic handler for all generate buttons

Â  Â  Â  Â  document.querySelectorAll('.zone-generate-btn').forEach(button => {

Â  Â  Â  Â  Â  Â  button.addEventListener('click', async () => {

Â  Â  Â  Â  Â  Â  Â  Â  const resultBox = document.getElementById(button.dataset.resultId);

Â  Â  Â  Â  Â  Â  Â  Â  const downloadBtn = resultBox.closest('.feature-panel, .islamic-feature-card').querySelector('.download-btn');

Â  Â  Â  Â  Â  Â  Â  Â  let prompt = "";

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  if(button.dataset.promptId) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  prompt = document.getElementById(button.dataset.promptId).value;

Â  Â  Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(button.id === 'gratitude-btn') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  prompt = "Give me a single, unique gratitude prompt to reflect on.";

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  Â  Â  if (!prompt && button.dataset.promptId) return;Â 

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  resultBox.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>';

Â  Â  Â  Â  Â  Â  Â  Â  if(downloadBtn) downloadBtn.classList.add('hidden');



Â  Â  Â  Â  Â  Â  Â  Â  let finalPrompt = prompt;

Â  Â  Â  Â  Â  Â  Â  Â  const featureId = button.id;

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  if (featureId === 'islamic-qa-btn') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  finalPrompt = `Ø£Ù†Øª Ø¹Ø§Ù„Ù… Ø¥Ø³Ù„Ø§Ù…ÙŠ ÙˆØ§Ø³Ø¹ Ø§Ù„Ù…Ø¹Ø±ÙØ© ÙˆÙ…Ø­ØªØ±Ù…. Ù‚Ø¯Ù… Ø¥Ø¬Ø§Ø¨Ø© ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…ÙˆØ¬Ø²Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŒ Ù…Ø¹ Ø°ÙƒØ± Ø§Ù„Ù…ØµØ§Ø¯Ø± Ù…Ù† Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ§Ù„Ø³Ù†Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù‚ØªØ¶Ø§Ø¡: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  } else if (featureId === 'generate-text-btn') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const textType = document.getElementById('text-type-select').value;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  finalPrompt = `Generate a ${textType} about the following topic: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  } else if (featureId === 'generate-ideas-btn') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  finalPrompt = `Brainstorm a list of creative ideas about: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const zone = button.closest('.zone-detail')?.id.split('-')[0];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const tool = button.dataset.resultId.split('-')[0];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (zone === 'study') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'aiTutor') finalPrompt = `As an expert AI Tutor, explain the following concept clearly: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'notesFlashcards') finalPrompt = `Generate concise study notes and a set of flashcards (question/answer format) from the following text: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'quizMaker') finalPrompt = `Create a multiple-choice quiz with 5 questions and an answer key based on this topic: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (zone === 'work') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if (tool === 'resume') finalPrompt = `Acting as a professional resume writer, create a compelling summary or cover letter based on this job description and skills: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if (tool === 'email') finalPrompt = `Write a professional email for the following purpose: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (zone === 'kitchen') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'recipe') finalPrompt = `I have these ingredients: ${prompt}. Generate 3 creative recipe ideas with instructions.`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'chefChat') finalPrompt = `As an AI Chef, answer this cooking question: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (zone === 'fun') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'joke') finalPrompt = `Tell me a funny, SFW joke about: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'story') finalPrompt = `Continue this story or write a short story based on this prompt: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'avatar') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const svgPrompt = `Create a simple, self-contained SVG vector graphic representing: "${prompt}". The SVG must have a viewBox="0 0 100 100" and use basic shapes and colors. Output ONLY the raw <svg> tag and its content. Do not include XML declarations or markdown backticks.`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const rawResponse = await generateTextResponse(svgPrompt);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (typeof rawResponse === 'string' && rawResponse.startsWith('<svg')) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â resultBox.innerHTML = rawResponse;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â resultBox.textContent = "Sorry, I couldn't create an avatar for that. Try a simpler description.";

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(downloadBtn) downloadBtn.classList.remove('hidden');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (zone === 'mind') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'therapist') finalPrompt = `You are a compassionate AI companion trained in active listening and providing supportive, non-judgmental responses based on CBT principles. A user has said: "${prompt}". Respond with empathy and an open-ended question. Do not give advice.`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (tool === 'journal') finalPrompt = `Generate a thoughtful journal entry reflecting on this: ${prompt}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  Â  Â  const aiResponse = await generateTextResponse(finalPrompt);

Â  Â  Â  Â  Â  Â  Â  Â  resultBox.innerHTML = aiResponse.replace(/\n/g, '<br>');

Â  Â  Â  Â  Â  Â  Â  Â  if(downloadBtn) downloadBtn.classList.remove('hidden');

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  });



Â  Â  Â  Â  // --- ISLAMIC MODE SPECIFIC LOGIC ---

Â  Â  Â  Â  const verses = [

Â  Â  Â  Â  Â  Â  { text: `"ÙÙØ§Ø°Ù’ÙƒÙØ±ÙÙˆÙ†ÙÙŠ Ø£ÙØ°Ù’ÙƒÙØ±Ù’ÙƒÙÙ…Ù’ ÙˆÙØ§Ø´Ù’ÙƒÙØ±ÙÙˆØ§ Ù„ÙÙŠ ÙˆÙÙ„ÙØ§ ØªÙÙƒÙ’ÙÙØ±ÙÙˆÙ†Ù"`, source: `- Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©ØŒ Ø¢ÙŠØ© Ù¡Ù¥Ù¢`},

Â  Â  Â  Â  Â  Â  { text: `"ÙÙØ¥ÙÙ†ÙÙ‘ Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§"`, source: `- Ø³ÙˆØ±Ø© Ø§Ù„Ø´Ø±Ø­ØŒ Ø¢ÙŠØ© Ù¥`},

Â  Â  Â  Â  Â  Â  { text: `"ÙˆÙÙ‡ÙÙˆÙ Ù…ÙØ¹ÙÙƒÙÙ…Ù’ Ø£ÙÙŠÙ’Ù†Ù Ù…ÙØ§ kÙÙ†ØªÙÙ…Ù’"`, source: `- Ø³ÙˆØ±Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯ØŒ Ø¢ÙŠØ© Ù¤`},

Â  Â  Â  Â  Â  Â  { text: `"ÙˆÙÙ…ÙÙ† ÙŠÙØªÙÙ‘Ù‚Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙŠÙØ¬Ù’Ø¹ÙÙ„ Ù„ÙÙ‘Ù‡Ù Ù…ÙØ®Ù’Ø±ÙØ¬Ù‹Ø§"`, source: `- Ø³ÙˆØ±Ø© Ø§Ù„Ø·Ù„Ø§Ù‚ØŒ Ø¢ÙŠØ© Ù¢`}

Â  Â  Â  Â  ];

Â  Â  Â  Â  const hadiths = [

Â  Â  Â  Â  Â  Â  { text: `"Ø®ÙŠØ±ÙƒÙ… Ø®ÙŠØ±ÙƒÙ… Ù„Ø£Ù‡Ù„Ù‡."`, source: `- Ø§Ù„ØªØ±Ù…Ø°ÙŠ`},

Â  Â  Â  Â  Â  Â  { text: `"Ø¥Ù†Ù…Ø§ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª."`, source: `- Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ ÙˆÙ…Ø³Ù„Ù…`},

Â  Â  Â  Â  Â  Â  { text: `"Ù…Ù† Ù„Ù… ÙŠØ´ÙƒØ± Ø§Ù„Ù†Ø§Ø³ Ù„Ù… ÙŠØ´ÙƒØ± Ø§Ù„Ù„Ù‡."`, source: `- Ø£Ø¨Ùˆ Ø¯Ø§ÙˆØ¯`},

Â  Â  Â  Â  Â  Â  { text: `"Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù… ÙØ±ÙŠØ¶Ø© Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ø³Ù„Ù…."`, source: `- Ø§Ø¨Ù† Ù…Ø§Ø¬Ù‡`}

Â  Â  Â  Â  ];



Â  Â  Â  Â  document.getElementById('new-verse-btn').addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  const verseBox = document.getElementById('verse-of-the-day');

Â  Â  Â  Â  Â  Â  const randomVerse = verses[Math.floor(Math.random() * verses.length)];

Â  Â  Â  Â  Â  Â  verseBox.innerHTML = `"${randomVerse.text}"<br><span class="text-sm not-italic text-gray-400">${randomVerse.source}</span>`;

Â  Â  Â  Â  });

Â  Â  Â  Â Â 

Â  Â  Â  Â  document.getElementById('new-hadith-btn').addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  const hadithBox = document.getElementById('hadith-of-the-day');

Â  Â  Â  Â  Â  Â  const randomHadith = hadiths[Math.floor(Math.random() * hadiths.length)];

Â  Â  Â  Â  Â  Â  hadithBox.innerHTML = `"${randomHadith.text}"<br><span class="text-sm not-italic text-gray-400">${randomHadith.source}</span>`;

Â  Â  Â  Â  });





Â  Â  Â  Â  // --- Voice Mode (Speech-to-Text & Text-to-Speech) ---

Â  Â  Â  Â  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

Â  Â  Â  Â  let recognition;



Â  Â  Â  Â  if (SpeechRecognition) {

Â  Â  Â  Â  Â  Â  recognition = new SpeechRecognition();

Â  Â  Â  Â  Â  Â  recognition.continuous = false;

Â  Â  Â  Â  Â  Â  recognition.lang = 'en-US';

Â  Â  Â  Â  Â  Â  recognition.interimResults = false;

Â  Â  Â  Â  Â  Â  recognition.maxAlternatives = 1;



Â  Â  Â  Â  Â  Â  recognition.onresult = (event) => {

Â  Â  Â  Â  Â  Â  Â  Â  const transcript = event.results[0][0].transcript;

Â  Â  Â  Â  Â  Â  Â  Â  setVoiceModeUI('processing', 'Thinking...');

Â  Â  Â  Â  Â  Â  Â  Â  handleChat(transcript); // Pass transcript directly to handleChat

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  recognition.onerror = (event) => {

Â  Â  Â  Â  Â  Â  Â  Â  console.error("Speech recognition error:", event.error);

Â  Â  Â  Â  Â  Â  Â  Â  setVoiceModeUI('idle', `Error: ${event.error}`);

Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  recognition.onend = () => {

Â  Â  Â  Â  Â  Â  Â  Â  if (voiceModeState === 'listening') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setVoiceModeUI('idle');

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  voiceModeBtn.style.display = 'none';

Â  Â  Â  Â  }



Â  Â  Â  Â  voiceModeBtn.addEventListener('click', () => {Â 

Â  Â  Â  Â  Â  Â  if (!SpeechRecognition) return;

Â  Â  Â  Â  Â  Â  isVoiceChatActive = true;

Â  Â  Â  Â  Â  Â  voiceModeOverlay.style.display = 'flex';Â 

Â  Â  Â  Â  Â  Â  setVoiceModeUI('idle');Â 

Â  Â  Â  Â  });

Â  Â  Â  Â  exitVoiceModeBtn.addEventListener('click', () => {Â 

Â  Â  Â  Â  Â  Â  isVoiceChatActive = false;

Â  Â  Â  Â  Â  Â  voiceModeOverlay.style.display = 'none';Â 

Â  Â  Â  Â  Â  Â  if (voiceModeState === 'listening') stopRecording();Â 

Â  Â  Â  Â  });

Â  Â  Â  Â  voiceMicCircle.addEventListener('click', () => {Â 

Â  Â  Â  Â  Â  Â  if (voiceModeState === 'idle') startRecording();Â 

Â  Â  Â  Â  Â  Â  else if (voiceModeState === 'listening') stopRecording();Â 

Â  Â  Â  Â  });



Â  Â  Â  Â  function setVoiceModeUI(state, text) {Â 

Â  Â  Â  Â  Â  Â  voiceModeState = state;Â 

Â  Â  Â  Â  Â  Â  switch (state) {Â 

Â  Â  Â  Â  Â  Â  Â  Â  case 'idle':Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  voiceMicCircle.classList.remove('listening');Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  voiceModeStatusText.textContent = text || 'Tap the circle to speak';Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;Â 

Â  Â  Â  Â  Â  Â  Â  Â  case 'listening':Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  voiceMicCircle.classList.add('listening');Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  voiceModeStatusText.textContent = text || 'Listening... Tap again to stop';Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;Â 

Â  Â  Â  Â  Â  Â  Â  Â  case 'processing':

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  voiceMicCircle.classList.remove('listening');Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  voiceModeStatusText.textContent = text || 'Processing...';Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;Â 

Â  Â  Â  Â  Â  Â  }Â 

Â  Â  Â  Â  }



Â  Â  Â  Â  function startRecording() {

Â  Â  Â  Â  Â  Â  if (recognition) {

Â  Â  Â  Â  Â  Â  Â  Â  recognition.start();

Â  Â  Â  Â  Â  Â  Â  Â  setVoiceModeUI('listening');

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }



Â  Â  Â  Â  function stopRecording() {

Â  Â  Â  Â  Â  Â  if (recognition) {

Â  Â  Â  Â  Â  Â  Â  Â  recognition.stop();

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  // --- Text Generation APIs with Fallback ---

Â  Â  Â  Â  async function callGemini(prompt, model = 'gemini-1.5-flash-latest') {

Â  Â  Â  Â  Â  Â  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${GEMINI_API_KEY}`;

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] }) });

Â  Â  Â  Â  Â  Â  Â  Â  const responseText = await response.text();

Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let errorMsg = `HTTP error! status: ${response.status}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try { const errorData = JSON.parse(responseText); errorMsg = errorData.error.message; } catch (e) { errorMsg = responseText; }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Gemini API Error:", errorMsg); throw new Error(errorMsg);Â 

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(responseText);

Â  Â  Â  Â  Â  Â  Â  Â  if (data.candidates && data.candidates[0].content && data.candidates[0].content.parts[0].text) { return data.candidates[0].content.parts[0].text; }

Â  Â  Â  Â  Â  Â  Â  Â  throw new Error("Invalid response structure from Gemini.");

Â  Â  Â  Â  Â  Â  } catch (error) { console.error("Gemini Fetch Error:", error); throw error; }

Â  Â  Â  Â  }



Â  Â  Â  Â  async function callDeepSeek(prompt) {

Â  Â  Â  Â  Â  Â  const apiUrl = `https://api.deepseek.com/chat/completions`;

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(apiUrl, {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${DEEPSEEK_API_KEY}` },

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ model: "deepseek-chat", messages: [{ "role": "user", "content": prompt }] })

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  const responseText = await response.text();

Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let errorMsg = `HTTP error! status: ${response.status}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try { const errorData = JSON.parse(responseText); errorMsg = errorData.error.message; } catch (e) { errorMsg = responseText; }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("DeepSeek API Error:", errorMsg); throw new Error(errorMsg);Â 

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(responseText);

Â  Â  Â  Â  Â  Â  Â  Â  if (data.choices && data.choices[0]) { return data.choices[0].message.content; }

Â  Â  Â  Â  Â  Â  Â  Â  throw new Error("Invalid response structure from DeepSeek.");

Â  Â  Â  Â  Â  Â  } catch (error) { console.error("DeepSeek Fetch Error:", error); throw error; }

Â  Â  Â  Â  }



Â  Â  Â  Â  async function callGrok(prompt) {

Â  Â  Â  Â  Â  Â  const apiUrl = 'https://api.groq.com/openai/v1/chat/completions';

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(apiUrl, {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${GROK_API_KEY}` },

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({ model: "gemma-7b-it", messages: [{ "role": "user", "content": prompt }] })

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  const responseText = await response.text();

Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let errorMsg = `HTTP error! status: ${response.status}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try { const errorData = JSON.parse(responseText); errorMsg = errorData.error.message; } catch (e) { errorMsg = responseText; }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Grok API Error:", errorMsg); throw new Error(errorMsg);Â 

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(responseText);

Â  Â  Â  Â  Â  Â  Â  Â  if (data.choices && data.choices[0]) { return data.choices[0].message.content; }

Â  Â  Â  Â  Â  Â  Â  Â  throw new Error("Invalid response structure from Grok.");

Â  Â  Â  Â  Â  Â  } catch (error) { console.error("Grok Fetch Error:", error); throw error; }

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  async function callBuiltInFreeModel(prompt) {

Â  Â  Â  Â  Â  Â  const apiKey = ""; // No key needed for this environment's free model

Â  Â  Â  Â  Â  Â  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] }) });

Â  Â  Â  Â  Â  Â  Â  Â  const responseText = await response.text();

Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let errorMsg = `HTTP error! status: ${response.status}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try { const errorData = JSON.parse(responseText); errorMsg = errorData.error.message; } catch (e) { errorMsg = responseText; }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(errorMsg);

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(responseText);

Â  Â  Â  Â  Â  Â  Â  Â  if (data.candidates && data.candidates[0].content && data.candidates[0].content.parts[0].text) { return data.candidates[0].content.parts[0].text; }

Â  Â  Â  Â  Â  Â  Â  Â  throw new Error("Invalid response from built-in model.");

Â  Â  Â  Â  Â  Â  } catch (error) { console.error("Built-in model error:", error); throw error; }

Â  Â  Â  Â  }



Â  Â  Â  Â  async function generateTextResponse(prompt) {

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  console.log("Attempting to use built-in free model...");

Â  Â  Â  Â  Â  Â  Â  Â  return await callBuiltInFreeModel(prompt);

Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  console.warn("Built-in model failed, falling back to Gemini API...");

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return await callGemini(prompt);

Â  Â  Â  Â  Â  Â  Â  Â  } catch (geminiError) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn("Gemini failed, falling back to DeepSeek API...");

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return await callDeepSeek(prompt);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (deepseekError) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.warn("DeepSeek also failed, falling back to Grok API...");

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return await callGrok(prompt);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (grokError) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("All text models failed:", grokError.message);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return "All AI models are currently unavailable. Please check your API keys and account status.";

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  // --- Image Generation ---

Â  Â  Â  Â  const imagePrompt = document.getElementById('image-prompt'), generateImageBtn = document.getElementById('generate-image-btn'), imageGallery = document.getElementById('image-gallery'), imageLoading = document.getElementById('image-loading');

Â  Â  Â  Â Â 

Â  Â  Â  Â  async function generateImage() {

Â  Â  Â  Â  Â  Â  const prompt = imagePrompt.value.trim();

Â  Â  Â  Â  Â  Â  if (!prompt) return;



Â  Â  Â  Â  Â  Â  imageGallery.innerHTML = '';

Â  Â  Â  Â  Â  Â  imageLoading.classList.remove('hidden');



Â  Â  Â  Â  Â  Â  const payload = { instances: [{ prompt: prompt }], parameters: { "sampleCount": 1 } };

Â  Â  Â  Â  Â  Â  const apiKey = ""; // This will be handled by the environment

Â  Â  Â  Â  Â  Â  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict?key=${apiKey}`;



Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(apiUrl, {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(payload)

Â  Â  Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  Â  Â  const responseText = await response.text();



Â  Â  Â  Â  Â  Â  Â  Â  if (!response.ok) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let errorMsg = `Failed to generate image. Server responded with: ${response.status} ${response.statusText}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const errorData = JSON.parse(responseText);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  errorMsg = errorData.error?.message || JSON.stringify(errorData);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Not a JSON error, use the raw text if available

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(responseText) errorMsg = responseText;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Image Generation API Error:", errorMsg);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(errorMsg);

Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  Â  Â  const result = JSON.parse(responseText);

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  if (result.predictions && result.predictions.length > 0 && result.predictions[0].bytesBase64Encoded) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const imageUrl = `data:image/png;base64,${result.predictions[0].bytesBase64Encoded}`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const galleryItem = document.createElement('div');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  galleryItem.className = 'gallery-item';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const img = document.createElement('img');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.src = imageUrl;



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const overlay = document.createElement('div');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.className = 'gallery-item-overlay';



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const downloadLink = document.createElement('a');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  downloadLink.href = imageUrl;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  downloadLink.download = `${prompt.substring(0, 20)}.png`;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  downloadLink.className = 'action-btn';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  downloadLink.innerHTML = '<i class="fas fa-download"></i> Download';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.appendChild(downloadLink);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  galleryItem.append(img, overlay);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  imageGallery.appendChild(galleryItem);

Â  Â  Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error("Invalid response structure from image generation API.");

Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  console.error("Image Generation Fetch Error:", error);

Â  Â  Â  Â  Â  Â  Â  Â  imageGallery.innerHTML = `<p class="text-red-400 col-span-full text-center">${error.message}</p>`;

Â  Â  Â  Â  Â  Â  } finally {

Â  Â  Â  Â  Â  Â  Â  Â  imageLoading.classList.add('hidden');

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }



Â  Â  Â  Â  generateImageBtn.addEventListener('click', generateImage);

Â  Â  Â  Â Â 

Â  Â  Â  Â  // --- Voice Generation (TTS) ---

Â  Â  Â  Â  const voiceTextPrompt = document.getElementById('voice-text-prompt'), generateVoiceBtn = document.getElementById('generate-voice-btn'), voiceOutput = document.getElementById('voice-output');

Â  Â  Â  Â  generateVoiceBtn.addEventListener('click', async () => {

Â  Â  Â  Â  Â  Â  const text = voiceTextPrompt.value.trim(); if (!text) return;

Â  Â  Â  Â  Â  Â  voiceOutput.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>';

Â  Â  Â  Â  Â  Â  const audioBlob = await callElevenlabsTTS(text);

Â  Â  Â  Â  Â  Â  if (audioBlob) {

Â  Â  Â  Â  Â  Â  Â  Â  const audioUrl = URL.createObjectURL(audioBlob);

Â  Â  Â  Â  Â  Â  Â  Â  voiceOutput.innerHTML = `<audio controls autoplay src="${audioUrl}"></audio>`;

Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  voiceOutput.textContent = 'Failed to generate audio.';

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  });

Â  Â  Â  Â  async function callElevenlabsTTS(text) { if (!ELEVENLABS_API_KEY) return null; const voiceId = '21m00Tcm4TlvDq8ikWAM'; const apiUrl = `https://api.elevenlabs.io/v1/text-to-speech/${voiceId}`; try { const response = await fetch(apiUrl, { method: 'POST', headers: { 'Accept': 'audio/mpeg', 'Content-Type': 'application/json', 'xi-api-key': ELEVENLABS_API_KEY }, body: JSON.stringify({ text: text, model_id: 'eleven_monolingual_v1' }) }); if (!response.ok) { console.error("ElevenLabs TTS Error:", await response.json()); return null; } return await response.blob(); } catch (error) { console.error("ElevenLabs TTS Fetch Error:", error); return null; } }



Â  Â  Â  Â  // --- QR Code Generation ---

Â  Â  Â  Â  const qrcodePrompt = document.getElementById('qrcode-prompt'), generateQrcodeBtn = document.getElementById('generate-qrcode-btn'), qrcodeOutput = document.getElementById('qrcode-output'), downloadQrcodeBtn = document.getElementById('download-qrcode-btn');

Â  Â  Â  Â  generateQrcodeBtn.addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  const text = qrcodePrompt.value.trim(); if (!text) return;

Â  Â  Â  Â  Â  Â  qrcodeOutput.innerHTML = '';

Â  Â  Â  Â  Â  Â  new QRCode(qrcodeOutput, { text: text, width: 256, height: 256 });

Â  Â  Â  Â  Â  Â  downloadQrcodeBtn.classList.remove('hidden');

Â  Â  Â  Â  });

Â  Â  Â  Â  downloadQrcodeBtn.addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  const canvas = qrcodeOutput.querySelector('canvas');

Â  Â  Â  Â  Â  Â  if (canvas) {

Â  Â  Â  Â  Â  Â  Â  Â  const a = document.createElement('a');

Â  Â  Â  Â  Â  Â  Â  Â  a.href = canvas.toDataURL('image/png');

Â  Â  Â  Â  Â  Â  Â  Â  a.download = 'qrcode.png';

Â  Â  Â  Â  Â  Â  Â  Â  a.click();

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  });



Â  Â  Â  Â  // --- Text Chat ---

Â  Â  Â  Â  const chatInput = document.getElementById('chat-input'), sendBtn = document.getElementById('send-btn'), chatHistory = document.getElementById('chat-history');

Â  Â  Â  Â  async function handleChat(promptOverride) {Â 

Â  Â  Â  Â  Â  Â  const prompt = promptOverride || chatInput.value.trim();Â 

Â  Â  Â  Â  Â  Â  if (!prompt) return;Â 

Â  Â  Â  Â  Â  Â  if (!promptOverride) chatInput.value = '';Â 

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  appendMessage(prompt, 'user');Â 

Â  Â  Â  Â  Â  Â  const typingIndicator = appendMessage('<div class="typing-indicator"><span></span><span></span><span></span></div>', 'ai');Â 

Â  Â  Â  Â  Â  Â  const aiResponse = await generateTextResponse(prompt);Â 

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  if (typeof aiResponse === 'string') {Â 

Â  Â  Â  Â  Â  Â  Â  Â  typingIndicator.querySelector('p').innerHTML = aiResponse.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');Â 

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  if (isVoiceChatActive) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const audioBlob = await callElevenlabsTTS(aiResponse);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (audioBlob) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const audioUrl = URL.createObjectURL(audioBlob);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const audio = new Audio(audioUrl);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  audio.play();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  audio.onended = () => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setVoiceModeUI('idle');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  voiceModeOverlay.style.display = 'none';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isVoiceChatActive = false;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setVoiceModeUI('idle', 'Error playing audio.');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  } else {Â 

Â  Â  Â  Â  Â  Â  Â  Â  typingIndicator.querySelector('p').textContent = 'An unexpected error occurred.';Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â if (isVoiceChatActive) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setVoiceModeUI('idle', 'An error occurred.');

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }Â 

Â  Â  Â  Â  }

Â  Â  Â  Â  chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleChat(); });

Â  Â  Â  Â  sendBtn.addEventListener('click', () => handleChat());

Â  Â  Â  Â Â 

Â  Â  Â  Â  function appendMessage(text, sender) {

Â  Â  Â  Â  Â  Â  const messageDiv = document.createElement('div');

Â  Â  Â  Â  Â  Â  messageDiv.className = `chat-message ${sender === 'user' ? 'user-message' : 'ai-message'}`;

Â  Â  Â  Â  Â  Â  const avatar = document.createElement('div');

Â  Â  Â  Â  Â  Â  avatar.className = `avatar ${sender === 'user' ? 'user-avatar' : 'ai-avatar'}`;

Â  Â  Â  Â  Â  Â  avatar.textContent = sender === 'user' ? 'You' : 'A';

Â  Â  Â  Â  Â  Â  const messageText = document.createElement('p');

Â  Â  Â  Â  Â  Â  messageText.innerHTML = text.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

Â  Â  Â  Â  Â  Â  messageDiv.append(avatar, messageText);

Â  Â  Â  Â  Â  Â  chatHistory.appendChild(messageDiv);

Â  Â  Â  Â  Â  Â  chatHistory.scrollTop = chatHistory.scrollHeight;

Â  Â  Â  Â  Â  Â  return messageDiv;

Â  Â  Â  Â  }



Â  Â  Â  Â  // --- Code Generation ---

Â  Â  Â  Â  const codeInput = document.getElementById('code-input'), codeHistory = document.getElementById('code-history'), codePreviewIframe = document.getElementById('code-preview-iframe');

Â  Â  Â  Â  let latestGeneratedCode = '';

Â  Â  Â  Â  codeInput.addEventListener('keypress', async (e) => { if (e.key === 'Enter') { const prompt = codeInput.value.trim(); if (!prompt) return; appendCodeMessage(`> ${prompt}`, 'user'); codeInput.value = ''; const codePrompt = `Generate a single, complete HTML file with CSS and JS for the following prompt. The code should be self-contained and ready to run. Do not include any explanation, comments, or markdown backticks. Just the raw code. Prompt: ${prompt}`; const typingIndicator = appendCodeMessage('<div class="typing-indicator"><span></span><span></span><span></span></div>', 'ai'); const codeResponse = await generateTextResponse(codePrompt); typingIndicator.remove(); appendCodeMessage(codeResponse, 'ai'); } });

Â  Â  Â  Â  function appendCodeMessage(code, sender) { if (sender === 'user') { const pre = document.createElement('pre'); pre.className = 'p-4 rounded-lg mb-4 whitespace-pre-wrap break-words bg-[#282a2b] text-gray-300'; pre.textContent = code; codeHistory.appendChild(pre); return pre; } else { if(code.includes('typing-indicator')) { const indicator = document.createElement('div'); indicator.innerHTML = code; codeHistory.appendChild(indicator); return indicator; } const cleanedCode = (typeof code === 'string') ? code.replace(/```[\w\s]*\n/g, '').replace(/```/g, '').trim() : "/* Error: Could not generate code. */"; latestGeneratedCode = cleanedCode; const previewContainer = document.createElement('div'); previewContainer.className = 'code-preview'; const header = document.createElement('div'); header.className = 'code-preview-header'; const copyBtn = document.createElement('button'); copyBtn.className = 'action-btn'; copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy'; copyBtn.onclick = () => { navigator.clipboard.writeText(cleanedCode).then(() => { copyBtn.innerHTML = '<i class="fas fa-check"></i> Copied!'; setTimeout(() => { copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy'; }, 2000); }); }; header.appendChild(copyBtn); const pre = document.createElement('pre'); pre.className = 'p-4 whitespace-pre-wrap break-words'; const codeElement = document.createElement('code'); codeElement.textContent = cleanedCode; pre.appendChild(codeElement); previewContainer.append(header, pre); codeHistory.appendChild(previewContainer); codePreviewIframe.srcdoc = cleanedCode; } codeHistory.scrollTop = codeHistory.scrollHeight; }

Â  Â  Â  Â Â 

Â  Â  Â  Â  // --- Download Logic ---

Â  Â  Â  Â  function downloadContent(content, filename, mimeType = 'text/plain') {

Â  Â  Â  Â  Â  Â  const blob = new Blob([content], { type: mimeType });

Â  Â  Â  Â  Â  Â  const url = URL.createObjectURL(blob);

Â  Â  Â  Â  Â  Â  const a = document.createElement('a');

Â  Â  Â  Â  Â  Â  a.href = url;

Â  Â  Â  Â  Â  Â  a.download = filename;

Â  Â  Â  Â  Â  Â  document.body.appendChild(a);

Â  Â  Â  Â  Â  Â  a.click();

Â  Â  Â  Â  Â  Â  document.body.removeChild(a);

Â  Â  Â  Â  Â  Â  URL.revokeObjectURL(url);

Â  Â  Â  Â  }



Â  Â  Â  Â  document.querySelectorAll('.download-btn').forEach(button => {

Â  Â  Â  Â  Â  Â  button.addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  Â  Â  const targetId = button.dataset.target;

Â  Â  Â  Â  Â  Â  Â  Â  const filename = button.dataset.filename;

Â  Â  Â  Â  Â  Â  Â  Â  const targetElement = document.getElementById(targetId);

Â  Â  Â  Â  Â  Â  Â  Â  if (targetElement) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isHtml = filename.endsWith('.html');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const content = isHtml ? targetElement.innerHTML : targetElement.innerText;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const mimeType = isHtml ? 'text/html' : 'text/plain';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  downloadContent(content, filename, mimeType);

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  });

Â  Â  Â  Â Â 

Â  Â  Â  Â  document.getElementById('download-code-btn').addEventListener('click', () => {

Â  Â  Â  Â  Â  Â  if(latestGeneratedCode) {

Â  Â  Â  Â  Â  Â  Â  Â  downloadContent(latestGeneratedCode, 'code.html', 'text/html');

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  });





Â  Â  Â  Â  // --- AI Workplace ---

Â  Â  Â  Â  function initializeMonacoEditor() {

Â  Â  Â  Â  Â  Â  if (workplaceEditorInstance) return;

Â  Â  Â  Â  Â  Â  require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs' }});

Â  Â  Â  Â  Â  Â  require(['vs/editor/editor.main'], () => {

Â  Â  Â  Â  Â  Â  Â  Â  workplaceEditorInstance = monaco.editor.create(document.getElementById('workplace-editor'), {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value: `<!DOCTYPE html>\n<html>\n<head>\nÂ  <title>My Page</title>\nÂ  <style>\nÂ  Â  body { background-color: #2d2d2d; color: white; }\nÂ  </style>\n</head>\n<body>\nÂ  <h1>Hello, World!</h1>\n</body>\n</html>`,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  language: 'html',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  theme: 'vs-dark',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  automaticLayout: true

Â  Â  Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  Â  Â  const previewFrame = document.getElementById('workplace-preview');

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  const updatePreview = () => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const code = workplaceEditorInstance.getValue();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  previewFrame.srcdoc = code;

Â  Â  Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  Â  Â  workplaceEditorInstance.onDidChangeModelContent(updatePreview);

Â  Â  Â  Â  Â  Â  Â  Â  updatePreview(); // Initial update

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  }



Â  Â  Â  Â  const workplaceHelpBtn = document.getElementById('workplace-help-btn');

Â  Â  Â  Â  const workplaceResult = document.getElementById('workplace-result');

Â  Â  Â  Â  workplaceHelpBtn.addEventListener('click', async () => {

Â  Â  Â  Â  Â  Â  if (!workplaceEditorInstance) return;

Â  Â  Â  Â  Â  Â  const code = workplaceEditorInstance.getValue();

Â  Â  Â  Â  Â  Â  if (!code) return;

Â  Â  Â  Â  Â  Â  workplaceResult.classList.remove('hidden');

Â  Â  Â  Â  Â  Â  workplaceResult.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>';

Â  Â  Â  Â  Â  Â  const helpPrompt = `I'm working on this code. Can you help me improve it, fix bugs, or suggest what to do next? Provide your suggestions as a list of points.\n\nCode:\n${code}`;

Â  Â  Â  Â  Â  Â  const aiResponse = await generateTextResponse(helpPrompt);

Â  Â  Â  Â  Â  Â  workplaceResult.innerHTML = aiResponse.replace(/\n/g, '<br>');

Â  Â  Â  Â  });



Â  Â  Â  Â  // --- Code Explainer ---

Â  Â  Â  Â  const explainerInput = document.getElementById('explainer-input');

Â  Â  Â  Â  const explainCodeBtn = document.getElementById('explain-code-btn');

Â  Â  Â  Â  const explainerOutput = document.getElementById('explainer-output');

Â  Â  Â  Â  explainCodeBtn.addEventListener('click', async () => {

Â  Â  Â  Â  Â  Â  const code = explainerInput.value;

Â  Â  Â  Â  Â  Â  if (!code) return;

Â  Â  Â  Â  Â  Â  explainerOutput.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>';

Â  Â  Â  Â  Â  Â  const explainPrompt = `Explain this code:\n\n${code}`;

Â  Â  Â  Â  Â  Â  explainerOutput.textContent = await generateTextResponse(explainPrompt);

Â  Â  Â  Â  Â  Â  explainerOutput.closest('.feature-panel').querySelector('.download-btn').classList.remove('hidden');

Â  Â  Â  Â  });



Â  Â  Â  Â  // --- Code Expert Chat ---

Â  Â  Â  Â  const expertChatHistory = document.getElementById('expert-chat-history');

Â  Â  Â  Â  const expertChatInput = document.getElementById('expert-chat-input');

Â  Â  Â  Â  const expertChatSendBtn = document.getElementById('expert-chat-send-btn');

Â  Â  Â  Â  async function handleExpertChat() {

Â  Â  Â  Â  Â  Â  const prompt = expertChatInput.value.trim();

Â  Â  Â  Â  Â  Â  if (!prompt) return;

Â  Â  Â  Â  Â  Â  appendExpertMessage(prompt, 'user');

Â  Â  Â  Â  Â  Â  expertChatInput.value = '';

Â  Â  Â  Â  Â  Â  const typingIndicator = appendExpertMessage('<div class="typing-indicator"><span></span><span></span><span></span></div>', 'ai');

Â  Â  Â  Â  Â  Â  const expertPrompt = `You are a world-class software engineer and code expert. Answer the following question: ${prompt}`;

Â  Â  Â  Â  Â  Â  const aiResponse = await generateTextResponse(expertPrompt);

Â  Â  Â  Â  Â  Â  typingIndicator.innerHTML = aiResponse;

Â  Â  Â  Â  }

Â  Â  Â  Â  expertChatSendBtn.addEventListener('click', handleExpertChat);

Â  Â  Â  Â  expertChatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleExpertChat(); });

Â  Â  Â  Â  function appendExpertMessage(text, sender) {

Â  Â  Â  Â  Â  Â  const messageDiv = document.createElement('div');

Â  Â  Â  Â  Â  Â  messageDiv.className = `text-sm p-2 rounded-lg mb-2 ${sender === 'user' ? 'bg-gray-700 text-right' : 'bg-gray-800'}`;

Â  Â  Â  Â  Â  Â  messageDiv.innerHTML = text;

Â  Â  Â  Â  Â  Â  expertChatHistory.appendChild(messageDiv);

Â  Â  Â  Â  Â  Â  expertChatHistory.scrollTop = expertChatHistory.scrollHeight;

Â  Â  Â  Â  Â  Â  return messageDiv;

Â  Â  Â  Â  }



Â  Â  Â  Â  // --- Educational Tools ---

Â  Â  Â  Â  const educationalChatHistory = document.getElementById('educational-chat-history');

Â  Â  Â  Â  const educationalChatInput = document.getElementById('educational-chat-input');

Â  Â  Â  Â  const educationalChatSendBtn = document.getElementById('educational-chat-send-btn');

Â  Â  Â  Â Â 

Â  Â  Â  Â  async function handleEducationalChat() {

Â  Â  Â  Â  Â  Â  const prompt = educationalChatInput.value.trim();

Â  Â  Â  Â  Â  Â  if (!prompt) return;

Â  Â  Â  Â  Â  Â  appendEducationalMessage(prompt, 'user');

Â  Â  Â  Â  Â  Â  educationalChatInput.value = '';

Â  Â  Â  Â  Â  Â  const typingIndicator = appendEducationalMessage('<div class="typing-indicator"><span></span><span></span><span></span></div>', 'ai');

Â  Â  Â  Â  Â  Â  const educationalPrompt = `You are an educational tutor. Answer the following question clearly and concisely for a student: ${prompt}`;

Â  Â  Â  Â  Â  Â  const aiResponse = await generateTextResponse(educationalPrompt);

Â  Â  Â  Â  Â  Â  typingIndicator.innerHTML = aiResponse;

Â  Â  Â  Â  }



Â  Â  Â  Â  educationalChatSendBtn.addEventListener('click', handleEducationalChat);

Â  Â  Â  Â  educationalChatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleEducationalChat(); });



Â  Â  Â  Â  function appendEducationalMessage(text, sender) {

Â  Â  Â  Â  Â  Â  const messageDiv = document.createElement('div');

Â  Â  Â  Â  Â  Â  messageDiv.className = `text-sm p-2 rounded-lg mb-2 ${sender === 'user' ? 'bg-gray-700 text-right' : 'bg-gray-800'}`;

Â  Â  Â  Â  Â  Â  messageDiv.innerHTML = text;

Â  Â  Â  Â  Â  Â  educationalChatHistory.appendChild(messageDiv);

Â  Â  Â  Â  Â  Â  educationalChatHistory.scrollTop = educationalChatHistory.scrollHeight;

Â  Â  Â  Â  Â  Â  return messageDiv;

Â  Â  Â  Â  }



Â  Â  Â  Â  document.getElementById('generate-project-btn').addEventListener('click', async () => { const prompt = document.getElementById('project-prompt').value; const resultBox = document.getElementById('project-result'); resultBox.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>'; resultBox.textContent = await generateTextResponse(`Provide school project ideas for: ${prompt}`); resultBox.closest('.feature-panel').querySelector('.download-btn').classList.remove('hidden'); });

Â  Â  Â  Â  document.getElementById('solve-math-btn').addEventListener('click', async () => { const prompt = document.getElementById('math-prompt').value; const resultBox = document.getElementById('math-result'); resultBox.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>'; resultBox.textContent = await generateTextResponse(`Solve this math problem: ${prompt}`); resultBox.closest('.feature-panel').querySelector('.download-btn').classList.remove('hidden'); });



Â  Â  Â  Â  // --- Research Tool ---

Â  Â  Â  Â  document.getElementById('research-btn').addEventListener('click', async () => { const prompt = document.getElementById('research-prompt').value; const resultBox = document.getElementById('research-result'); resultBox.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>'; resultBox.textContent = await generateTextResponse(`Search Google for "${prompt}" and provide a detailed summary of the top results.`); resultBox.closest('.feature-panel').querySelector('.download-btn').classList.remove('hidden'); });



Â  Â  Â  Â  // --- Link Checker ---

Â  Â  Â  Â  document.getElementById('check-link-btn').addEventListener('click', async () => { const prompt = document.getElementById('link-prompt').value; const resultBox = document.getElementById('link-result'); resultBox.innerHTML = '<div class="typing-indicator"><span></span><span></span><span></span></div>'; resultBox.textContent = await generateTextResponse(`Analyze the URL "${prompt}" for potential security threats like phishing, malware, or scams. Provide a safety rating (e.g., Safe, Suspicious, Dangerous) and explain your reasoning.`); resultBox.closest('.feature-panel').querySelector('.download-btn').classList.remove('hidden'); });



Â  Â  Â  Â  // --- Chess Game Logic ---

Â  Â  Â  Â  const boardElement = document.getElementById('chess-board'), statusElement = document.getElementById('chess-status'), resetChessBtn = document.getElementById('reset-chess-btn'), difficultySelect = document.getElementById('chess-difficulty');

Â  Â  Â  Â  const pieceSymbols = { 'r':'â™œ', 'n':'â™', 'b':'â™', 'q':'â™›', 'k':'â™š', 'p':'â™Ÿ', 'R':'â™–', 'N':'â™˜', 'B':'â™—', 'Q':'â™•', 'K':'â™”', 'P':'â™™' };

Â  Â  Â  Â  let chessBoardState, chessTurn, selectedPiece, isPlayerTurn;

Â  Â  Â  Â  function initChess() { chessBoardState = [ ['r','n','b','q','k','b','n','r'], ['p','p','p','p','p','p','p','p'], ['','','','','','','',''], ['','','','','','','',''], ['','','','','','','',''], ['','','','','','','',''], ['P','P','P','P','P','P','P','P'], ['R','N','B','Q','K','B','N','R'] ]; chessTurn = 'white'; selectedPiece = null; isPlayerTurn = true; statusElement.textContent = "Your Turn (White)"; renderBoard(); }

Â  Â  Â  Â  resetChessBtn.addEventListener('click', initChess);

Â  Â  Â  Â  difficultySelect.addEventListener('change', initChess);

Â  Â  Â  Â  function renderBoard() { boardElement.innerHTML = ''; for (let i = 0; i < 8; i++) { for (let j = 0; j < 8; j++) { const square = document.createElement('div'); square.className = `chess-square ${(i + j) % 2 === 0 ? 'light' : 'dark'}`; square.dataset.row = i; square.dataset.col = j; const piece = chessBoardState[i][j]; if (piece) { const pieceElement = document.createElement('span'); pieceElement.className = 'chess-piece'; pieceElement.textContent = pieceSymbols[piece]; pieceElement.style.color = piece === piece.toUpperCase() ? '#fff' : '#000'; square.appendChild(pieceElement); } boardElement.appendChild(square); } } addSquareListeners(); }

Â  Â  Â  Â  function addSquareListeners() { document.querySelectorAll('.chess-square').forEach(square => square.addEventListener('click', handleSquareClick)); }

Â  Â  Â  Â  async function handleSquareClick(e) { if (!isPlayerTurn) return; const square = e.currentTarget; const row = parseInt(square.dataset.row); const col = parseInt(square.dataset.col); if (selectedPiece) { const fromRow = selectedPiece.row; const fromCol = selectedPiece.col; const legalMoves = getAllPossibleMoves(chessBoardState, 'white').filter(m => m.from[0] === fromRow && m.from[1] === fromCol); const isLegal = legalMoves.some(m => m.to[0] === row && m.to[1] === col); if (isLegal) { applyMove(chessBoardState, { from: [fromRow, fromCol], to: [row, col] }); const isCheck = isKingInCheck(chessBoardState, 'black'); if (isCheck && isCheckmate(chessBoardState, 'black')) { statusElement.textContent = "Checkmate! You win!"; isPlayerTurn = false; } else if (isStalemate(chessBoardState, 'black')) { statusElement.textContent = "Stalemate! It's a draw."; isPlayerTurn = false; } else { chessTurn = 'black'; isPlayerTurn = false; statusElement.textContent = "AI's Turn (Black)"; setTimeout(makeComputerMove, 100); } } selectedPiece = null; renderBoard(); } else { const piece = chessBoardState[row][col]; if (piece && piece === piece.toUpperCase()) { selectedPiece = { row, col, piece }; square.style.backgroundColor = 'rgba(0, 255, 0, 0.5)'; } } }

Â  Â  Â  Â  function makeComputerMove() { statusElement.textContent = "AI is thinking..."; setTimeout(() => { const depth = parseInt(difficultySelect.value); const bestMove = getBestMove(chessBoardState, depth, 'black'); if (bestMove) { applyMove(chessBoardState, bestMove); const isCheck = isKingInCheck(chessBoardState, 'white'); if (isCheck && isCheckmate(chessBoardState, 'white')) { statusElement.textContent = "Checkmate! You lose."; isPlayerTurn = false; } else if (isStalemate(chessBoardState, 'white')) { statusElement.textContent = "Stalemate! It's a draw."; isPlayerTurn = false; } else { chessTurn = 'white'; isPlayerTurn = true; statusElement.textContent = isCheck ? "Check! Your Turn (White)" : "Your Turn (White)"; } } else { statusElement.textContent = isKingInCheck(chessBoardState, 'black') ? "Checkmate! You win!" : "Stalemate! It's a draw."; isPlayerTurn = false; } renderBoard(); }, 100); }

Â  Â  Â  Â  const pieceValues = { 'p': 10, 'n': 30, 'b': 30, 'r': 50, 'q': 90, 'k': 900 };

Â  Â  Â  Â  function getBestMove(board, depth, color) { let bestMove = null; let bestValue = color === 'white' ? -Infinity : Infinity; const moves = getAllPossibleMoves(board, color); moves.sort(() => Math.random() - 0.5); for (const move of moves) { const newBoard = createBoardCopy(board); applyMove(newBoard, move); const boardValue = minimax(newBoard, depth - 1, -Infinity, Infinity, color !== 'white'); if (color === 'white') { if (boardValue > bestValue) { bestValue = boardValue; bestMove = move; } } else { if (boardValue < bestValue) { bestValue = boardValue; bestMove = move; } } } return bestMove; }

Â  Â  Â  Â  function minimax(board, depth, alpha, beta, isMaximizingPlayer) { if (depth === 0) return evaluateBoard(board); const color = isMaximizingPlayer ? 'white' : 'black'; const moves = getAllPossibleMoves(board, color); if (moves.length === 0) { if (isKingInCheck(board, color)) return isMaximizingPlayer ? -Infinity : Infinity; return 0; } if (isMaximizingPlayer) { let maxEval = -Infinity; for (const move of moves) { const newBoard = createBoardCopy(board); applyMove(newBoard, move); const eval = minimax(newBoard, depth - 1, alpha, beta, false); maxEval = Math.max(maxEval, eval); alpha = Math.max(alpha, eval); if (beta <= alpha) break; } return maxEval; } else { let minEval = Infinity; for (const move of moves) { const newBoard = createBoardCopy(board); applyMove(newBoard, move); const eval = minimax(newBoard, depth - 1, alpha, beta, true); minEval = Math.min(minEval, eval); beta = Math.min(beta, eval); if (beta <= alpha) break; } return minEval; } }

Â  Â  Â  Â  function evaluateBoard(board) { let totalEvaluation = 0; for (let i = 0; i < 8; i++) { for (let j = 0; j < 8; j++) { const piece = board[i][j]; if (piece) { const value = pieceValues[piece.toLowerCase()]; totalEvaluation += piece === piece.toUpperCase() ? value : -value; } } } return totalEvaluation; }

Â  Â  Â  Â  function getAllPossibleMoves(board, color) { const moves = []; for (let r = 0; r < 8; r++) { for (let c = 0; c < 8; c++) { const piece = board[r][c]; if (piece && (color === 'white' ? piece === piece.toUpperCase() : piece === piece.toLowerCase())) { const pieceMoves = getPieceMoves(board, piece, r, c); for (const move of pieceMoves) { const newBoard = createBoardCopy(board); applyMove(newBoard, { from: [r, c], to: move }); if (!isKingInCheck(newBoard, color)) { moves.push({ from: [r, c], to: move }); } } } } } return moves; }

Â  Â  Â  Â  function getPieceMoves(board, piece, r, c) { const type = piece.toLowerCase(); if (type === 'p') return getPawnMoves(board, piece, r, c); if (type === 'r') return getSlidingMoves(board, piece, r, c, [[-1, 0], [1, 0], [0, -1], [0, 1]]); if (type === 'b') return getSlidingMoves(board, piece, r, c, [[-1, -1], [-1, 1], [1, -1], [1, 1]]); if (type === 'q') return getSlidingMoves(board, piece, r, c, [[-1, 0], [1, 0], [0, -1], [0, 1], [-1, -1], [-1, 1], [1, -1], [1, 1]]); if (type === 'k') return getKingMoves(board, piece, r, c); if (type === 'n') return getKnightMoves(board, piece, r, c); return []; }

Â  Â  Â  Â  function getPawnMoves(board, piece, r, c) { const moves = []; const color = piece === piece.toUpperCase() ? 'white' : 'black'; const dir = color === 'white' ? -1 : 1; const startRow = color === 'white' ? 6 : 1; if (r + dir >= 0 && r + dir < 8 && !board[r + dir][c]) moves.push([r + dir, c]); if (r === startRow && !board[r + dir][c] && !board[r + 2 * dir][c]) moves.push([r + 2 * dir, c]); [-1, 1].forEach(cd => { if (c + cd >= 0 && c + cd < 8) { const target = board[r + dir][c + cd]; if (target && (color === 'white' ? target === target.toLowerCase() : target === target.toUpperCase())) { moves.push([r + dir, c + cd]); } } }); return moves; }

Â  Â  Â  Â  function getSlidingMoves(board, piece, r, c, directions) { const moves = []; const color = piece === piece.toUpperCase() ? 'white' : 'black'; for (const [dr, dc] of directions) { for (let i = 1; i < 8; i++) { const newR = r + i * dr, newC = c + i * dc; if (newR < 0 || newR >= 8 || newC < 0 || newC >= 8) break; const target = board[newR][newC]; if (target) { if ((color === 'white' ? target === target.toLowerCase() : target === target.toUpperCase())) { moves.push([newR, newC]); } break; } moves.push([newR, newC]); } } return moves; }

Â  Â  Â  Â  function getKingMoves(board, piece, r, c) { const moves = []; const color = piece === piece.toUpperCase() ? 'white' : 'black'; for (let dr = -1; dr <= 1; dr++) { for (let dc = -1; dc <= 1; dc++) { if (dr === 0 && dc === 0) continue; const newR = r + dr, newC = c + dc; if (newR < 0 || newR >= 8 || newC < 0 || newC >= 8) continue; const target = board[newR][newC]; if (!target || (color === 'white' ? target === target.toLowerCase() : target === target.toUpperCase())) { moves.push([newR, newC]); } } } return moves; }

Â  Â  Â  Â  function getKnightMoves(board, piece, r, c) { const moves = []; const color = piece === piece.toUpperCase() ? 'white' : 'black'; const knightMoves = [[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]]; for (const [dr, dc] of knightMoves) { const newR = r + dr, newC = c + dc; if (newR < 0 || newR >= 8 || newC < 0 || newC >= 8) continue; const target = board[newR][newC]; if (!target || (color === 'white' ? target === target.toLowerCase() : target === target.toUpperCase())) { moves.push([newR, newC]); } } return moves; }

Â  Â  Â  Â  function isKingInCheck(board, color) { const kingPos = findKing(board, color); if (!kingPos) return true; const opponentColor = color === 'white' ? 'black' : 'white'; for (let r = 0; r < 8; r++) { for (let c = 0; c < 8; c++) { const piece = board[r][c]; if (piece && (opponentColor === 'white' ? piece === piece.toUpperCase() : piece === piece.toLowerCase())) { const moves = getPieceMoves(board, piece, r, c); if (moves.some(m => m[0] === kingPos.r && m[1] === kingPos.c)) return true; } } } return false; }

Â  Â  Â  Â  function findKing(board, color) { const kingChar = color === 'white' ? 'K' : 'k'; for (let r = 0; r < 8; r++) { for (let c = 0; c < 8; c++) { if (board[r][c] === kingChar) return { r, c }; } } return null; }

Â  Â  Â  Â  function isCheckmate(board, color) { return isKingInCheck(board, color) && getAllPossibleMoves(board, color).length === 0; }

Â  Â  Â  Â  function isStalemate(board, color) { return !isKingInCheck(board, color) && getAllPossibleMoves(board, color).length === 0; }

Â  Â  Â  Â  function applyMove(board, move) { let piece = board[move.from[0]][move.from[1]]; board[move.to[0]][move.to[1]] = piece; board[move.from[0]][move.from[1]] = ''; if (piece.toLowerCase() === 'p' && (move.to[0] === 0 || move.to[0] === 7)) { board[move.to[0]][move.to[1]] = piece === 'P' ? 'Q' : 'q'; } }

Â  Â  Â  Â  function createBoardCopy(board) { return board.map(row => row.slice()); }



Â  Â  Â  Â  // --- Initial Setup ---

Â  Â  Â  Â  appendMessage("Hello! I'm 3rabiano. How can I help you today?", 'ai');

Â  Â  Â  Â  initChess();

Â  Â  });

Â  Â  </script>



</body>

</html>
